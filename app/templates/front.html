<!DOCTYPE html>
<html>
  <meta>

  </meta>
  <head>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <!-- jQuery library -->
    <!--<script src="../lib/jquery-3.3.1.min.js"></script>-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="../static/js/front.js"></script>

    <link rel="stylesheet" href="../static/css/front.css">
  </head>
  <body onload="frontInit()">
    <h1>Linguistics DB</h1>

    <div id="metrics-div">
      <!-- Radio button for selecting 1/2 features -->
      <button class="btn btn-primary" onclick="handleSingleTrait()">Single trait</button>
      <button class="btn btn-primary" onclick="handleDoubleTrait()">Two traits</button>
      <button class="btn btn-warning" onclick="handleSubmit()">Submit</button>
      <button class="btn btn-warning list-toggle" style="float: right;" onclick="handleListToggle()">Enable list mode (WIP)</button>
      <br>
      <br>

      <!-- results display -->
      <div id="results-div" class="alert alert-info" role="alert">
        <span id="results">Submit a valid query to get started.</span>
      </div>
      <!-- dropdowns for traits -->
      <!-- currently placeholders -->
      <div id="trait-divs">
        <div id="trait-div-1" class="alert alert-success">
          <select>
            <option>Contains phoneme: </option>
          </select>
          <input type="text" size="5">
        </div>
        <div id="trait-div-2" class="alert alert-success hidden">
          <select>
            <option>Contains phoneme: </option>
          </select>
          <input type="text" size="5">
        </div>
      </div>
    </div>

    <!-- Template for trait selector -->
    <div id="trait-div-template" class="alert alert-info trait-div" role="alert">
      <!-- consider making a dropdown from bootstrap -->
      <select class="trait-selector" id="trait-select-template" onchange="handleTraitSelect(this)">
        <option>Contains consonant: </option>
        <option>Contains consonant class: </option>
        <option>Contains vowel: </option>
        <option>Contains vowel class: </option>
        <option>Has 3+ consonant places</option>
        <option>Has 2+ consonant manners</option>
        <option>Has complex consonants</option>
        <option>Has tone</option>
        <option>Has predictable stress</option>
        <option>Allows syllable structure: </option>
      </select>
      <!-- Consonant Selector -->
      <div id="consonant-selector-template" class="active-trait">Contains
        <select class="mode-selector">
          <option>at least</option>
          <option>at most</option>
          <option>exactly</option>
          <option>less than</option>
          <option>more than</option>
          <option>not equal to</option>
        </select>
        <input class="k-input" type="text" size="5" placeholder="1" value="1"> of
        <a class="cbox-selector-uninit btn btn-outline-secondary"
           role="button"
           data-html="true"
           data-toggle="popover"
           title="<b>Select phonemes</b>"
           data-content="Loading...">Select Phonemes...</a>
      </div>
      <div id="consonant-class-selector-template" class="inactive-trait">Contains
        <select class="mode-selector">
          <option>at least</option>
          <option>at most</option>
          <option>exactly</option>
          <option>less than</option>
          <option>more than</option>
          <option>not equal to</option>
        </select>
        <input class="k-input" type="text" size="5" placeholder="1" value="1"> of
        <a class="ccbox-selector-uninit btn btn-outline-secondary"
           role="button"
           data-html="true"
           data-toggle="popover"
           title="<b>Select natural classes</b>"
           data-content="Loading...">Select natural classes...</a>
      </div>
      <div id="vowel-selector-template" class="inactive-trait">Contains
        <select class="mode-selector">
          <option>at least</option>
          <option>at most</option>
          <option>exactly</option>
          <option>less than</option>
          <option>more than</option>
          <option>not equal to</option>
        </select>
        <input class="k-input" type="text" size="5" placeholder="1" value="1"> of
        <a class="vbox-selector-uninit btn btn-outline-secondary"
           role="button"
           data-html="true"
           data-toggle="popover"
           title="<b>Select phonemes</b>"
           data-content="Loading...">Select Phonemes...</a>
      </div>
      <div id="vowel-class-selector-template" class="inactive-trait">Contains
        <select class="mode-selector">
          <option>at least</option>
          <option>at most</option>
          <option>exactly</option>
          <option>less than</option>
          <option>more than</option>
          <option>not equal to</option>
        </select>
        <input class="k-input" type="text" size="5" placeholder="1" value="1"> of
        <a class="vcbox-selector-uninit btn btn-outline-secondary"
           role="button"
           data-html="true"
           data-toggle="popover"
           title="<b>Select natural classes</b>"
           data-content="Loading...">Select natural classes...</a>
      </div>
      <div id="consonant-places-template" class="inactive-trait">
        3+ Places of Consonant Articulation
      </div>
      <div id="consonant-manners-template" class="inactive-trait">
        2+ Manners of Consonant Articulation
      </div>
      <div id="complex-consonant-template" class="inactive-trait">
        Complex Consonants
      </div>
      <div id="tone-selector-template" class="inactive-trait">
        Tone (including "Pitch Accent")
      </div>
      <div id="stress-selector-template" class="inactive-trait">
        Predictable Stress
      </div>
      <div id="syllable-selector-template" class="inactive-trait">
        Syllable structure selector - coming soon!
      </div>
      <!--  -->
    </div>

    <!-- ANCHOR: AUTOGEN START -->
    <!--  ### BEGIN AUTO-GENERATED HTML. DO NOT EDIT ###-->

    <!--Auto-generated template for the consonant phoneme selector.-->
    <div id="cbox-template" class="template">
      <table>
        <tbody>
          <tr>
            <td><div id="cbox-n-template" class="pbox-label" onclick="handlePboxLabel(this)">n</div></td>
            <td><div id="cbox-t-template" class="pbox-label" onclick="handlePboxLabel(this)">t</div></td>
            <td><div id="cbox-m-template" class="pbox-label" onclick="handlePboxLabel(this)">m</div></td>
            <td><div id="cbox-k-template" class="pbox-label" onclick="handlePboxLabel(this)">k</div></td>
            <td><div id="cbox-j-template" class="pbox-label" onclick="handlePboxLabel(this)">j</div></td>
          </tr>
          <tr>
            <td><div id="cbox-s-template" class="pbox-label" onclick="handlePboxLabel(this)">s</div></td>
            <td><div id="cbox-p-template" class="pbox-label" onclick="handlePboxLabel(this)">p</div></td>
            <td><div id="cbox-l-template" class="pbox-label" onclick="handlePboxLabel(this)">l</div></td>
            <td><div id="cbox-w-template" class="pbox-label" onclick="handlePboxLabel(this)">w</div></td>
            <td><div id="cbox-h-template" class="pbox-label" onclick="handlePboxLabel(this)">h</div></td>
          </tr>
          <tr>
            <td><div id="cbox-b-template" class="pbox-label" onclick="handlePboxLabel(this)">b</div></td>
            <td><div id="cbox-d-template" class="pbox-label" onclick="handlePboxLabel(this)">d</div></td>
            <td><div id="cbox-g-template" class="pbox-label" onclick="handlePboxLabel(this)">g</div></td>
            <td><div id="cbox-ŋ-template" class="pbox-label" onclick="handlePboxLabel(this)">ŋ</div></td>
            <td><div id="cbox-ʃ-template" class="pbox-label" onclick="handlePboxLabel(this)">ʃ</div></td>
          </tr>
          <tr>
            <td><div id="cbox-ʔ-template" class="pbox-label" onclick="handlePboxLabel(this)">ʔ</div></td>
            <td><div id="cbox-tʃ-template" class="pbox-label" onclick="handlePboxLabel(this)">tʃ</div></td>
            <td><div id="cbox-f-template" class="pbox-label" onclick="handlePboxLabel(this)">f</div></td>
            <td><div id="cbox-r-template" class="pbox-label" onclick="handlePboxLabel(this)">r</div></td>
            <td><div id="cbox-ɲ-template" class="pbox-label" onclick="handlePboxLabel(this)">ɲ</div></td>
          </tr>
          <tr>
            <td><div id="cbox-z-template" class="pbox-label" onclick="handlePboxLabel(this)">z</div></td>
            <td><div id="cbox-ts-template" class="pbox-label" onclick="handlePboxLabel(this)">ts</div></td>
            <td><div id="cbox-dʒ-template" class="pbox-label" onclick="handlePboxLabel(this)">dʒ</div></td>
            <td><div id="cbox-x-template" class="pbox-label" onclick="handlePboxLabel(this)">x</div></td>
            <td><div id="cbox-v-template" class="pbox-label" onclick="handlePboxLabel(this)">v</div></td>
          </tr>
        </tbody>
      </table>
    </div>

    <!--Auto-generated template for the vowel phoneme selector.-->
    <div id="vbox-template" class="template">
      <table>
        <tbody>
          <tr>
            <td><div id="vbox-a-template" class="pbox-label" onclick="handlePboxLabel(this)">a</div></td>
            <td><div id="vbox-e-template" class="pbox-label" onclick="handlePboxLabel(this)">e</div></td>
            <td><div id="vbox-o-template" class="pbox-label" onclick="handlePboxLabel(this)">o</div></td>
            <td><div id="vbox-i-template" class="pbox-label" onclick="handlePboxLabel(this)">i</div></td>
            <td><div id="vbox-u-template" class="pbox-label" onclick="handlePboxLabel(this)">u</div></td>
          </tr>
          <tr>
            <td><div id="vbox-ə-template" class="pbox-label" onclick="handlePboxLabel(this)">ə</div></td>
            <td><div id="vbox-ɨ-template" class="pbox-label" onclick="handlePboxLabel(this)">ɨ</div></td>
            <td><div id="vbox-ɯ-template" class="pbox-label" onclick="handlePboxLabel(this)">ɯ</div></td>
            <td><div id="vbox-y-template" class="pbox-label" onclick="handlePboxLabel(this)">y</div></td>
            <td><div id="vbox-ʌ-template" class="pbox-label" onclick="handlePboxLabel(this)">ʌ</div></td>
          </tr>
          <tr>
            <td><div class="pbox-label-empty"></div></td>
            <td><div id="vbox-ø-template" class="pbox-label" onclick="handlePboxLabel(this)">ø</div></td>
            <td><div id="vbox-ɵ-template" class="pbox-label" onclick="handlePboxLabel(this)">ɵ</div></td>
            <td><div id="vbox-ʉ-template" class="pbox-label" onclick="handlePboxLabel(this)">ʉ</div></td>
          </tr>
        </tbody>
      </table>
    </div>

    <!--Auto-generated template for the consonant class selector.-->
    <div id="ccbox-template" class="template">
      <table>
        <tbody class="consonant-class-selector">
          <tr>
            <td class="clbox-label clbox-label-0 clbox-label-selected" onclick="handleClboxLabel(this)">any voicing</td>
            <td class="clbox-label clbox-label-1 clbox-label-selected" onclick="handleClboxLabel(this)">any place</td>
            <td class="clbox-label clbox-label-2 clbox-label-selected" onclick="handleClboxLabel(this)">any manner</td>
          </tr>
          <tr>
            <td class="clbox-label clbox-label-0" onclick="handleClboxLabel(this)">voiced</td>
            <td class="clbox-label clbox-label-1" onclick="handleClboxLabel(this)">bilabial</td>
            <td class="clbox-label clbox-label-2" onclick="handleClboxLabel(this)">plosive</td>
          </tr>
          <tr>
            <td class="clbox-label clbox-label-0" onclick="handleClboxLabel(this)">voiceless</td>
            <td class="clbox-label clbox-label-1" onclick="handleClboxLabel(this)">labiodental</td>
            <td class="clbox-label clbox-label-2" onclick="handleClboxLabel(this)">fricative</td>
          </tr>
          <tr>
            <td class="clbox-label-empty"></td>
            <td class="clbox-label clbox-label-1" onclick="handleClboxLabel(this)">dental</td>
            <td class="clbox-label clbox-label-2" onclick="handleClboxLabel(this)">affricate</td>
          </tr>
          <tr>
            <td class="clbox-label-empty"></td>
            <td class="clbox-label clbox-label-1" onclick="handleClboxLabel(this)">alveolar</td>
            <td class="clbox-label clbox-label-2" onclick="handleClboxLabel(this)">nasal</td>
          </tr>
          <tr>
            <td class="clbox-label-empty"></td>
            <td class="clbox-label clbox-label-1" onclick="handleClboxLabel(this)">palatal</td>
            <td class="clbox-label clbox-label-2" onclick="handleClboxLabel(this)">liquid</td>
          </tr>
          <tr>
            <td class="clbox-label-empty"></td>
            <td class="clbox-label clbox-label-1" onclick="handleClboxLabel(this)">velar</td>
            <td class="clbox-label clbox-label-2" onclick="handleClboxLabel(this)">trill</td>
          </tr>
          <tr>
            <td class="clbox-label-empty"></td>
            <td class="clbox-label clbox-label-1" onclick="handleClboxLabel(this)">glottal</td>
            <td class="clbox-label clbox-label-2" onclick="handleClboxLabel(this)">glide</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!--Auto-generated template for the vowel class selector.-->
    <div id="vcbox-template" class="template">
      <table>
        <tbody class="vowel-class-selector">
          <tr>
            <td class="clbox-label clbox-label-0 clbox-label-selected" onclick="handleClboxLabel(this)">any roundedness</td>
            <td class="clbox-label clbox-label-1 clbox-label-selected" onclick="handleClboxLabel(this)">any height</td>
            <td class="clbox-label clbox-label-2 clbox-label-selected" onclick="handleClboxLabel(this)">any backness</td>
          </tr>
          <tr>
            <td class="clbox-label clbox-label-0" onclick="handleClboxLabel(this)">rounded</td>
            <td class="clbox-label clbox-label-1" onclick="handleClboxLabel(this)">high</td>
            <td class="clbox-label clbox-label-2" onclick="handleClboxLabel(this)">front</td>
          </tr>
          <tr>
            <td class="clbox-label clbox-label-0" onclick="handleClboxLabel(this)">unrounded</td>
            <td class="clbox-label clbox-label-1" onclick="handleClboxLabel(this)">mid-high</td>
            <td class="clbox-label clbox-label-2" onclick="handleClboxLabel(this)">central</td>
          </tr>
          <tr>
            <td class="clbox-label-empty"></td>
            <td class="clbox-label clbox-label-1" onclick="handleClboxLabel(this)">mid</td>
            <td class="clbox-label clbox-label-2" onclick="handleClboxLabel(this)">back</td>
          </tr>
          <tr>
            <td class="clbox-label-empty"></td>
            <td class="clbox-label clbox-label-1" onclick="handleClboxLabel(this)">mid-low</td>
            <td class="clbox-label-empty"></td>
          </tr>
          <tr>
            <td class="clbox-label-empty"></td>
            <td class="clbox-label clbox-label-1" onclick="handleClboxLabel(this)">low</td>
            <td class="clbox-label-empty"></td>
          </tr>
        </tbody>
      </table>
    </div>

    <!--Auto-generated template for the morphology list selector.-->
    <div id="morphology-template" class="template">
      <table>
        <tbody>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">isolating</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">analytic</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">fusional</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">agglutinating</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">polysynthetic</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!--Auto-generated template for the word-formation list selector.-->
    <div id="word-formation-template" class="template">
      <table>
        <tbody>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">affixation</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">suffixation</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">prefixation</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">infixation</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">compounding</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">root-and-pattern</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">internal change</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">suppleton</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">stress or tone shift</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">reduplication</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">conversion</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">purely isolating</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!--Auto-generated template for the formation-freq list selector.-->
    <div id="formation-freq-template" class="template">
      <table>
        <tbody>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">exclusively suffixing</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">mostly suffixing</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">exclusively prefixing</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">mostly prefixing</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">equal prefixing and suffixing</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">exclusively non-affixal</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">mostly non-affixal</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">equal affixation and other</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">mostly isolating</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">exclusively isolating</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!--Auto-generated template for the word-order list selector.-->
    <div id="word-order-template" class="template">
      <table>
        <tbody>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">SVO</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">SOV</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">VSO</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">VOS</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">OVS</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">OSV</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">multiple</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">none</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!--Auto-generated template for the headedness list selector.-->
    <div id="headedness-template" class="template">
      <table>
        <tbody>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">consistently head-initial</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">consistently head-final</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">mostly head-initial</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">mostly head-final</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">mixed headedness</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!--Auto-generated template for the agreement list selector.-->
    <div id="agreement-template" class="template">
      <table>
        <tbody>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">none</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">ergative/absolutive</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">nominative/accusative</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">other</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!--Auto-generated template for the case list selector.-->
    <div id="case-template" class="template">
      <table>
        <tbody>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">none</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">ergative/absolutive</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">nominative/accusative</td>
          </tr>
          <tr>
            <td class="lbox-label" onclick="handleLboxLabel(this)">other</td>
          </tr>
        </tbody>
      </table>
    </div>
    <!--  ### END AUTO-GENERATED HTML. EDITING IS OK AGAIN ###-->

    <!-- ANCHOR: AUTOGEN END -->

  </body>

  <!-- Hide popovers when clicking body -->
  <script>
  $(document).ready(function(){
      $('[data-toggle="popover"]').popover({ html : true, container: 'body'});
  });
  $('body').on('click', function (e) {
      $('[data-toggle="popover"]').each(function () {
          //the 'is' for buttons that trigger popups
          //the 'has' for icons within a button that triggers a popup
          if (!$(this).is(e.target) && $(this).has(e.target).length === 0 && $('.popover').has(e.target).length === 0) {
              $(this).popover('hide');
          }
      });
  });
  $('body').on('hidden.bs.popover', function (e) {
      $(e.target).data("bs.popover").inState = { click: false, hover: false, focus: false }
  });
  </script>
</html>
